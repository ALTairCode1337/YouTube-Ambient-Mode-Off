# YouTube-Ambient-Mode-off
Скрипт который выключает профессиональное освещение на ютубе

Это скрипт который выключает на сайте youtube профессиональное освещение ,  так называемый "Ambient mode" . На мой взгляд освещение только ухудшает работу сайта , а именно ставит видео в низкое качество и появляется неприятное свечение (белого цвета).

Также в скрипте есть код который отвечает чтобы видео грузилось в нужном качестве (эта часть не моя)

<h3>Как установить?</h3>

1) Установить расширение "Tampermonkey"

2) Импортировать мой файл

3) Желательно в расширении "Tampermonkey" в настройках у пункта "Экспериментально" , а именно "Режим встраивания" поставить "обычный" или просто оставить "по умолчанию".

4) Включить в панели расширении сам скрипт и обновить страницу ютуба


<h3>Как вообще работает скрипт? </h3>

В данный момент в интернете нет скрипта который работал бы идеально как на ПК так и на смартфоне (для них вообще ничего не нашёл).

Мой скрипт работает и на ПК и на смартфоне. Он работает по принципу выключает и удаляет. То есть самого освещения не будет и не будет кнопки.

Вот пример с ПК:

До:

![9LKos4Fbeu](https://github.com/user-attachments/assets/c891e5c9-8730-4c36-8bbd-8ce1407bdb19)

После:

![NYxBuusBCx](https://github.com/user-attachments/assets/4f2891a4-2752-49e9-a4fd-1a4763f2ba79)


Также на смартфоне:

![Новый проект](https://github.com/user-attachments/assets/7fd9b63e-cfb1-47fc-bdb0-36de28881f9c)


Дальше немного обьясню как работает.

## ПК версия

Начну с ПК версии. Вообще само освещение работает немного по разному на разных устройствах. 

Например на пк версии сам id освещения виден не вооруженым взглядом при открытии . И отключается досточно просто через "display:none".

![MEHirF0Vjy](https://github.com/user-attachments/assets/1e4db6b5-3113-438a-b780-c5f09f7a6aae)


## Смартфон

А вот с мобильной версией сайта не так просто. Если открыть сайт в мобильной версии то такого class либо id не найти . И писать скрипт сначало думал что бесполезно ведь кнопку освещение спрятана через шестерёнку. 

Но! удивительно но я нашёл код который по сути отвечает за саму кнопку освещения . Его можно найти если перейти  во вкладку "source" , найти файл "watch" с цифровами и символами (это id видео то есть url) и в нём будет код скрипта в котором в свою очередь обьект "ytcfg.set({...}):".

![fTpXZiSbfA](https://github.com/user-attachments/assets/bad5722c-1545-4f1f-aa00-126462302fb3)


Скорее всего "ytcfg.set({...})", используется для установки конфигурационных параметров в YouTube.

В нём меня заинтересовало меня 4 флага или параметра:

![Jp7qE1ute2](https://github.com/user-attachments/assets/3ebad593-e0a1-4956-9b19-2199a22b7dcf)


Насколько я понял они отвечают за отображение кнопки и её работу в мобильной версии сайта.

- "kevlar_watch_cinematics": true: Включает "кинематографические" эффекты для "kevlar watch". Это может означать, что в приложении активированы определенные визуальные эффекты или анимации, связанные с "kevlar watch".

- "mweb_cinematic_fullscreen": true: Включает "кинематографический" полноэкранный режим для мобильной веб-версии.

- "mweb_cinematic_topbar": true: Возможно, это связано с отображением "кинематографической" верхней панели в мобильной версии.

- "mweb_cinematic_watch": true: Вероятно, это включает режим "кинематографического" просмотра в мобильной версии.

Их достаточно выставить в значаение "false" (Смотри в коде).

## Раздел "Shorts"

![v8DNwEHMwg](https://github.com/user-attachments/assets/71ef334b-2ed1-42f2-9418-2f6e01ef788a)


Также я нашел код который отвечает за отображение в разделе "Shorts". Вообще в разделе "shorts" неполучится один раз отключить эту функцию.

Дело в том что при переключении с одного ролика на другой скрипты которые отвечают за этот раздел срабатывают снова. Я пока не нашел что это за скрипты. 

Но я понял как c этим бороться. Можно удалить в древе html сам div контейнер "shorts-cinematic-container" и сделать проверку существует ли сам контейнер и бонусом выпилить кнопку в опциях.






